<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>WTWB</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="./assets/logo.png" />
    <link rel="manifest" href="manifest.webmanifest" />
    <meta name="theme-color" content="#1976d2" />
  </head>
  <body>
    <wladcy-kostek-app-root></wladcy-kostek-app-root>
    <noscript
      >Please enable JavaScript to continue using this application.</noscript
    >
  </body>
  ->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    window.db;
    const request = indexedDB.open('db', 1);
    request.onupgradeneeded = function (event) {
      window.db = event.target.result;

      // Tworzymy obiekt store, jeśli go nie ma
      if (!window.db.objectStoreNames.contains('posts')) {
        window.db.createObjectStore('posts', { autoIncrement: true }); // "id" będzie kluczem
      }
      if (!window.db.objectStoreNames.contains('features')) {
        window.db.createObjectStore('features', { autoIncrement: true }); // "id" będzie kluczem
      }
      if (!window.db.objectStoreNames.contains('username')) {
        window.db.createObjectStore('username', { autoIncrement: true }); // "id" będzie kluczem
      }
    };

    request.onsuccess = function (event) {
      window.db = event.target.result;
      console.log('Baza danych otwarta!');
    };

    request.onerror = function (event) {
      console.error('Błąd podczas otwierania bazy danych', event);
    };
  </script>
</html>
